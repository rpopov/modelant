<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Copyright (c) 2001,2012 Rusi Popov, MDA Tools.net
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    Rusi Popov (popovr@mdatools.net) - initial implementation
 -->

<!--
  This script demonstrates the usage of <b>reverse.db</b> macro to reverse engineer a database schema.
-->
<project name="build-products" default="all" basedir="../..">

  <import file="..\..\..\..\env.xml"/>

  <typedef resource="net/mdatools/modelant/uml13/reverse/antlib.xml"/>

  <!--
     Connect the database to reverse engineer uing JDBC URL using Service Names:

     jdbc:oracle:thin:@//host:port/service-name

     NOTES:
     1. Here an example of Oracle databse is provided, but the JDBC standard allows working with any database,
        just by providing the proper driver class and URL in the task below.
     2. Make sure the drives to connect the database are in the ANT's classpath
     3. Provider the schema (i.e. directory in JDBC terms) in upper case
    -->
  <property name="out.file.db"    value="${out}/result-db.xmi" />

  <reverse.db output="${out.file.db}"
              driver="oracle.jdbc.OracleDriver"
              url="jdbc:oracle:thin:@//host:1521/service"
              user="USER"
              password="PASSWORD"
              schema="SCHEMA"/>
  <echo>${out.file.db} created</echo>
</project>